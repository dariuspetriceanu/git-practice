import React from 'react';

const MaturityDetail = (props) => {
  const currentDate = new Date('2021-08-08'); // August 8, 2021
  const maturityDateParts = props.info.maturity_date.split('/'); // Split date parts
  const maturityDate = new Date(
    maturityDateParts[2],  // Year
    parseInt(maturityDateParts[0]) - 1, // Month (zero-based)
    maturityDateParts[1]  // Day
  );
  const timeDiff = maturityDate.getTime() - currentDate.getTime();
  const daysDiff = timeDiff / (1000 * 3600 * 24);

  // Check if maturity date is due in 5 days or less
  if (daysDiff <= 5 && daysDiff >= 0) {
    return (
      <tr>
        <td>{props.info.id}</td>
        <td>{props.info.status}</td>
        <td>{props.info.trade_type}</td>
        <td>{props.info.trade_date}</td>
        <td>{props.info.maturity_date}</td>
        <td>{props.info.trade_settlement_date}</td>
      </tr>
    );
  } else {
    // Return null if maturity date is not due in 5 days or less
    return null;
  }
};

export default MaturityDetail;
